{
  "imposters": [

    {
      "port": 8001,
      "protocol": "http",
      "stubs": [
        {
          "predicates": [
            {
              "equals": {
                "method": "GET",
                "path": "/users",
                "query": {"id": ["1","2","1","5"]}
              }
            }
          ],
          "responses": [
            {
              "is": {
                "body": [
                    {
                        "name": "User1",
                        "email": "user1@email.com",
                        "secret": 123,
                        "location": "Berlin",
                        "dateOfBirth": "2000-01-02"
                     },
                     {
                         "name": "User2",
                         "email": "user2@email.com",
                          "location": "London",
                          "hobby": "hiking"
                      },
                      {
                          "name": "User1",
                          "email": "user1@email.com",
                          "secret": 123,
                          "location": "Berlin",
                          "dateOfBirth": "2000-01-02"
                       },
                      {
                          "name": "User5",
                          "email": "user5@email.com",
                          "secret": 567,
                          "location": "Paris"
                       }
                 ]
              },
              "_behaviors": {
                "wait": 1000
              }
            }
          ]
        },
        {
          "predicates": [
            {
              "equals": {
                "method": "GET",
                "path": "/users"
              }
            }
          ],
          "responses": [
            {
              "is": {
                "body": [
                    {
                      "id": 1,
                      "name": "User1",
                      "books": [11, 12]
                    },
                    {
                      "id": 2,
                      "name": "User2",
                      "books": [21]
                    },
                    {
                      "id": 3,
                      "name": "User3",
                      "books": []
                    },
                    {
                      "id": 4,
                      "name": "User4",
                      "books": [41]
                    },
                    {
                      "id": 5,
                      "name": "User5",
                      "books": []
                    }
                ]
              },
              "_behaviors": {
                "wait": 1000
              }
            }
          ]
        }
      ]
    },


    {
      "port": 8002,
      "protocol": "http",
      "stubs": [
        {
          "predicates": [
            {
              "equals": {
                "method": "GET",
                "path": "/books",
                "query": {"id": ["11","12","21","41"]}
              }
            }
          ],
          "responses": [
            {
              "is": {
                "body": [
                    {
                        "title": "Book11",
                        "comments": [
                            {
                                "user": 1,
                                "comment": "my favorite"
                            },
                            {
                                "user": 2,
                                "comment": "awesome"
                            }
                        ]
                     },
                     {},
                     {
                         "title": "Book21",
                         "comments": [
                             {
                                 "user": 1,
                                 "comment": "my other favorite"
                             },
                             {
                                 "user": 5,
                                 "comment": "not that good"
                             }
                         ]
                      },
                      {
                          "title": "Book41",
                          "comments": []
                       }
                 ]
              },
              "_behaviors": {
                "wait": 1000
              }
            }
          ]
        }
      ]
    },


    {
      "port": 8003,
      "protocol": "http",
      "stubs": [
         {
            "predicates": [
              {
                "equals": {
                  "method": "GET",
                  "path": "/secrets",
                  "query": {"id": ["123","567"]}
                }
              }
            ],
            "responses": [
              {
                "is": {
                  "body": [
                  {
                      "secret1": "this is a secret",
                      "secret2": "another secret"
                   },
                   {
                     "secret1": "this is also a secret"
                  }
                 ]
                },
                "_behaviors": {
                  "wait": 1000
                }
              }
            ]
          }
      ]
    }
  ]
}
